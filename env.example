# Facial Authentication System - Environment Configuration

# ============================================
# Application Settings
# ============================================
APP_NAME=Facial Authentication System
APP_VERSION=2.0.0
DEBUG=false
ENVIRONMENT=production

# ============================================
# Server Configuration
# ============================================
API_HOST=0.0.0.0
API_PORT=8000
API_WORKERS=4
RELOAD=false

# ============================================
# Security Settings
# ============================================
# Generate with: openssl rand -hex 32
SECRET_KEY=change-this-secret-key-in-production-use-openssl-rand-hex-32

# JWT Configuration
JWT_ALGORITHM=HS256
JWT_EXPIRATION_MINUTES=1440

# API Key Header
API_KEY_HEADER=X-API-Key

# Password Hashing (Argon2)
ARGON2_TIME_COST=2
ARGON2_MEMORY_COST=65536
ARGON2_PARALLELISM=4

# ============================================
# Database Configuration
# ============================================
# SQLite (Development)
DATABASE_URL=sqlite:///./facial_auth.db

# PostgreSQL (Production) - Example
# DATABASE_URL=postgresql://user:password@localhost:5432/facial_auth

# ============================================
# Encryption
# ============================================
# Generate with: python -c "from cryptography.fernet import Fernet; print(Fernet.generate_key().decode())"
ENCRYPTION_KEY=change-this-encryption-key-generate-with-fernettools

# ============================================
# Device Configuration
# ============================================
# Options: auto, cpu, cuda
DEVICE=auto

# ============================================
# Model Configuration
# ============================================
MODEL_BASE_PATH=./weights
RETINAFACE_MODEL=retinaface_resnet50.pth
ARCFACE_MODEL=arcface_resnet100.pth
FACENET_MODEL=facenet_inception_resnet_v1.pth
MOBILEFACENET_MODEL=mobilefacenet.pth
LIVENESS_MODEL=liveness_resnet18.pth
TEMPORAL_LIVENESS_MODEL=temporal_lstm.pth
DEPTH_MODEL=midas_v21_small.pt
FUSION_MODEL=fusion_mlp.pth

# Face Processing
FACE_SIZE=160
FACE_SIZE_ARCFACE=224

# Detection Thresholds
DETECTION_CONFIDENCE_THRESHOLD=0.85
DETECTION_NMS_THRESHOLD=0.4
MIN_FACE_SIZE=40
MAX_FACES=5

# Verification Thresholds
VERIFICATION_THRESHOLD=0.65
IDENTIFICATION_THRESHOLD=0.70

# Adaptive Thresholding
ENABLE_ADAPTIVE_THRESHOLD=true
ADAPTIVE_THRESHOLD_MIN=0.55
ADAPTIVE_THRESHOLD_MAX=0.75

# Liveness Detection
LIVENESS_THRESHOLD=0.90
ENABLE_DEPTH_ESTIMATION=true
DEPTH_THRESHOLD=0.15

# Temporal Liveness
ENABLE_TEMPORAL_LIVENESS=true
MIN_VIDEO_FRAMES=30
BLINK_DETECTION_THRESHOLD=0.2

# Registration Settings
MIN_REGISTRATION_SAMPLES=5
MAX_REGISTRATION_SAMPLES=10
REGISTRATION_QUALITY_THRESHOLD=0.80

# Quality Assessment
MIN_SHARPNESS_SCORE=50.0
MAX_BLUR_VARIANCE=100.0
MAX_HEAD_POSE_YAW=30.0
MAX_HEAD_POSE_PITCH=30.0

# Online Learning
ENABLE_ONLINE_LEARNING=true
EMBEDDING_UPDATE_ALPHA=0.1
MAX_EMBEDDING_UPDATES=100

# Bias Monitoring
ENABLE_BIAS_MONITORING=true
BIAS_CHECK_INTERVAL_HOURS=24
BIAS_THRESHOLD=0.05

# Challenge-Response
ENABLE_CHALLENGE_RESPONSE=true
CHALLENGE_TIMEOUT_SECONDS=10
CHALLENGE_TYPES=blink,smile,look_left,look_right,look_up,look_down

# Batch Processing
MAX_BATCH_SIZE=32
INFERENCE_TIMEOUT_SECONDS=5

# ============================================
# Redis Cache (Optional)
# ============================================
ENABLE_REDIS_CACHE=false
REDIS_URL=redis://localhost:6379/0
CACHE_TTL_SECONDS=300

# ============================================
# Logging Configuration
# ============================================
LOG_LEVEL=INFO
LOG_FORMAT=json
LOG_FILE=logs/facial_auth.log
LOG_ROTATION=10MB
LOG_RETENTION_DAYS=30

# ============================================
# Rate Limiting
# ============================================
RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_PERIOD=60

# ============================================
# CORS Configuration
# ============================================
CORS_ENABLED=true
CORS_ORIGINS=["http://localhost:5173","http://localhost:3000","https://yourdomain.com"]
CORS_ALLOW_CREDENTIALS=true

# ============================================
# Monitoring & Metrics
# ============================================
ENABLE_METRICS=true
METRICS_PORT=9090
PROMETHEUS_ENABLED=true

# ============================================
# Voice Authentication (Optional)
# ============================================
ENABLE_VOICE_AUTH=false
VOICE_MODEL_PATH=./weights/ecapa_tdnn.pth
VOICE_SIMILARITY_THRESHOLD=0.75

# ============================================
# WebSocket Configuration
# ============================================
WEBSOCKET_ENABLED=true
WEBSOCKET_MAX_CONNECTIONS=100
WEBSOCKET_HEARTBEAT_INTERVAL=30

# ============================================
# Data Retention
# ============================================
ENABLE_AUTO_DELETION=false
DATA_RETENTION_DAYS=365
AUDIT_LOG_RETENTION_DAYS=730

# ============================================
# Cloud Provider Settings (Optional)
# ============================================

# AWS
# AWS_REGION=us-east-1
# AWS_ACCESS_KEY_ID=your_access_key
# AWS_SECRET_ACCESS_KEY=your_secret_key
# AWS_S3_BUCKET=facial-auth-data

# Google Cloud
# GCP_PROJECT_ID=your_project_id
# GCP_CREDENTIALS_PATH=./gcp-credentials.json
# GCP_STORAGE_BUCKET=facial-auth-data

# Azure
# AZURE_STORAGE_ACCOUNT=your_account
# AZURE_STORAGE_KEY=your_key
# AZURE_CONTAINER=facial-auth-data

# ============================================
# Third-Party Integrations (Optional)
# ============================================

# Email Service
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_USER=your_email@gmail.com
# SMTP_PASSWORD=your_password

# SMS Service (Twilio)
# TWILIO_ACCOUNT_SID=your_account_sid
# TWILIO_AUTH_TOKEN=your_auth_token
# TWILIO_PHONE_NUMBER=+1234567890

# ============================================
# Advanced Features (Optional)
# ============================================

# Federated Learning
# ENABLE_FEDERATED_LEARNING=false
# FEDERATED_SERVER_URL=http://localhost:8080

# Blockchain Integration
# ENABLE_BLOCKCHAIN_AUDIT=false
# ETHEREUM_RPC_URL=https://mainnet.infura.io/v3/your_key

# Homomorphic Encryption
# ENABLE_HOMOMORPHIC_ENCRYPTION=false
# HE_SCHEME=ckks
# HE_KEY_SIZE=2048

# Multi-Tenancy
# ENABLE_MULTI_TENANCY=false
# DEFAULT_TENANT_ID=default

# ============================================
# Notes
# ============================================
# 1. Copy this file to .env and update values
# 2. Never commit .env to version control
# 3. Use different .env files for dev/staging/prod
# 4. Rotate secrets regularly in production

